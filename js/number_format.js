String.prototype.number_format=function(){if(isNaN(this)){return NaN}var d=this+"";d=d.split(".",2);var c=0;if(parseInt(d[0])<0){d[0]=d[0].substring(1,d[0].length);c=1}var a=d[0].length;var b=new Array;for(var e=3;e<=a+2;e+=3){b[b.length]=d[0].substring(a-e,a-e+3)}var f="";for(var e=b.length-1;e>=0;e--){f+=b[e]+","}f=f.replace(/,$/,"");if(d[1]){f+="."+d[1]}if(c){return"-"+f}else{return f}};String.prototype.number_unformat=function(){var a=(this+"").match(/[\d.]*/g);var c="";for(var b=0;b<a.length;b++){c+=a[b]}return c-0};Number.prototype.number_format=String.prototype.number_format;Number.prototype.number_unformat=String.prototype.number_unformat;